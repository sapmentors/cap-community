/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/library","sap/ui/core/Core","sap/ui/Device"],function(e,r,t){"use strict";var i=e.CarouselArrowsPlacement;var s=e.PlacementType;var a=r.getLibraryResourceBundle("sap.m");var o={};o._BULLETS_TO_NUMBERS_THRESHOLD=9;o.render=function(e,r){var a=r.getPages(),n=a.length,d=r.getPageIndicatorPlacement(),l=r.getArrowsPlacement(),w=r.getId(),g=o._BULLETS_TO_NUMBERS_THRESHOLD,c=r._getPageNumber(r.getActivePage());this._renderOpeningDiv(e,r);if(d===s.Top){this._renderPageIndicatorAndArrows({rm:e,iPageCount:n,sId:w,iIndex:c,iBulletsToNumbersThreshold:g,sArrowsPlacement:l,bBottom:false,bShowPageIndicator:r.getShowPageIndicator()},r)}this._renderInnerDiv(e,r,a,d);if(t.system.desktop&&n>r._getNumberOfItemsToShow()&&l===i.Content){this._renderHudArrows(e,r)}if(d===s.Bottom){this._renderPageIndicatorAndArrows({rm:e,iPageCount:n,sId:w,iIndex:c,iBulletsToNumbersThreshold:g,sArrowsPlacement:l,bBottom:true,bShowPageIndicator:r.getShowPageIndicator()},r)}this._renderClosingDiv(e)};o._renderOpeningDiv=function(e,r){var t=r.getTooltip_AsString();e.write("<div");e.writeControlData(r);e.writeAttribute("data-sap-ui-customfastnavgroup","true");e.addStyle("width",r.getWidth());e.addStyle("height",r.getHeight());e.writeStyles();e.addClass("sapMCrsl");e.addClass("sapMCrslFluid");e.writeClasses();if(t){e.writeAttributeEscaped("title",t)}e.writeAttributeEscaped("tabindex","0");e.writeAccessibilityState(r,{role:"listbox"});e.write(">")};o._renderInnerDiv=function(e,r,t,a){e.write("<div class='sapMCrslInner");r._cleanUpScrollContainer();if(t.length>1&&(r.getShowPageIndicator()||r.getArrowsPlacement()===i.PageIndicator)){if(a===s.Bottom){e.write(" sapMCrslBottomOffset");if(r.getArrowsPlacement()===i.PageIndicator){e.write(" sapMCrslBottomArrowsOffset")}}else{e.write(" sapMCrslTopOffset");if(r.getArrowsPlacement()===i.PageIndicator){e.write(" sapMCrslTopArrowsOffset")}}}e.write("'>");var o=function(t,i,s){e.write("<div class='sapMCrslItem");e.write("' id='"+r.sId+"-"+t.sId+"-slide'");e.writeAccessibilityState(t,{role:"option",posinset:i+1,setsize:s.length});e.write(">");e.renderControl(r._createScrollContainer(t,i));e.write("</div>")};if(t.length!==0){t.forEach(o)}else{e.renderControl(r._getErrorPage())}e.write("</div>")};o._renderClosingDiv=function(e){e.write("</div>")};o._renderPageIndicatorAndArrows=function(e,r){var s=e.rm,o=e.iPageCount,n=t.system.desktop&&e.sArrowsPlacement===i.PageIndicator,d=e.bBottom,l=e.sId,w=e.iIndex,g=e.iBulletsToNumbersThreshold,c=e.bShowPageIndicator,p=c?"":"opacity: 0",u="",C=r._getNumberOfItemsToShow(),v=a.getText("CAROUSEL_PAGE_INDICATOR_TEXT",[w+1,o-C+1]),f=1;if(o<=r._getNumberOfItemsToShow()){return}if(!c&&!n){return}if(d){u+=" sapMCrslControlsBottom"}else{u+=" sapMCrslControlsTop"}if(n){s.write("<div");s.addClass("sapMCrslControls");s.addClass(u);s.writeClasses();s.write(">");s.write('<div class="sapMCrslControlsContainer'+u+'">')}else{s.write('<div class="sapMCrslControlsNoArrows'+u+'">')}if(n){this._renderPrevArrow(s,r)}var P=l+"-pageIndicator";s.write('<div id="'+P+'" style="'+p+'"');if(o<g){s.write(' class="sapMCrslBulleted">');for(var m=1;m<=o-C+1;m++){s.write("<span role='img' data-slide="+f+" aria-label='"+a.getText("CAROUSEL_POSITION",[m,o])+"'>"+m+"</span>");f++}}else{s.write(' class="sapMCrslNumeric">');s.write("<span id="+l+"-"+"slide-number>"+v+"</span>")}s.write("</div>");if(n){this._renderNextArrow(s,r)}if(!n){s.write("</div>")}if(n){s.write("</div>");s.write("</div>")}};o._renderHudArrows=function(e,r){var t;if(r.getShowPageIndicator()){if(r.getPageIndicatorPlacement()===s.Top){t="sapMCrslHudTop"}else if(r.getPageIndicatorPlacement()===s.Bottom){t="sapMCrslHudBottom"}}else{t="sapMCrslHudMiddle"}var i=r.getId()+"-hud";e.write('<div id="'+i+'" class="sapMCrslHud '+t+'">');this._renderPrevArrow(e,r);this._renderNextArrow(e,r);e.write("</div>")};o._renderPrevArrow=function(e,r){var t=a.getText("PAGINGBUTTON_PREVIOUS");e.write("<a class='sapMCrslPrev' title='"+t+"' data-slide='prev' tabindex='-1'><div class='sapMCrslArrowInner'>");e.renderControl(r._getNavigationArrow("left"));e.write("</div></a>")};o._renderNextArrow=function(e,r){var t=a.getText("PAGINGBUTTON_NEXT");e.write("<a class='sapMCrslNext' title='"+t+"' data-slide='next' tabindex='-1'><div class='sapMCrslArrowInner'>");e.renderControl(r._getNavigationArrow("right"));e.write("</div></a>")};return o},true);