/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["./library"],function(e){"use strict";var a={};a.render=function(a,t){var i=t.getValue();var s=t.getIndicator();var r=t.getScale();var d=t.getState();var l=e.DeviationIndicator.None!==s&&i!=="";var n=t.getWithMargin();var o;if(n){o=""}else{o="WithoutMargin"}if(t.getFormatterValue()){var C=t._parseFormattedValue(i);r=C.scale;i=C.value}var w=r&&i;a.write("<div");a.writeControlData(t);var g=t.getTooltip_AsString();if(typeof g!=="string"){g=""}a.writeAttributeEscaped("aria-label",g);a.writeAttribute("role","img");if(d==e.LoadState.Failed||d==e.LoadState.Loading){a.writeAttribute("aria-disabled","true")}if(t.getAnimateTextChange()){a.addClass("sapMNCAnimation")}if(t.getWidth()){a.addStyle("width",t.getWidth())}a.writeStyles();a.addClass("sapMNC");a.addClass(o);if(t.hasListeners("press")){a.writeAttribute("tabindex","0");a.addClass("sapMPointer")}a.writeClasses();a.write(">");a.write("<div");a.addClass("sapMNCInner");a.addClass(o);a.writeClasses();a.write(">");if(n){this._renderScaleAndIndicator(a,t,l,w,o,s,r);this._renderValue(a,t,o,i)}else{this._renderValue(a,t,o,i);this._renderScaleAndIndicator(a,t,l,w,o,s,r)}a.write("</div>");a.write("</div>")};a._prepareAndRenderIcon=function(a,t,i,s){if(i){var r,d=e.LoadState,l=t.getState();for(r in d){if(d.hasOwnProperty(r)&&r!==l){i.removeStyleClass(r)}else if(d.hasOwnProperty(r)&&r===l){i.addStyleClass(r)}}i.addStyleClass("sapMNCIconImage");i.removeStyleClass("sapMNCIconImageMediumTopMargin");i.removeStyleClass("sapMNCIconImageSmallTopMargin");if(s==="sapMNCMediumFontSize"){i.addStyleClass("sapMNCIconImageMediumTopMargin")}else if(s==="sapMNCSmallFontSize"){i.addStyleClass("sapMNCIconImageSmallTopMargin")}a.renderControl(i)}};a._renderScaleAndIndicator=function(e,a,t,i,s,r,d){if(t||i){var l=a.getState();var n=a.getValueColor();e.write("<div");e.addClass("sapMNCIndScale");e.addClass(s);e.addClass(l);e.writeClasses();e.write(">");e.write("<div");e.writeAttribute("id",a.getId()+"-indicator");e.addClass("sapMNCIndicator");e.addClass(r);e.addClass(l);e.addClass(n);e.writeClasses();e.write("></div>");if(i){e.write("<div");e.writeAttribute("id",a.getId()+"-scale");e.addClass("sapMNCScale");e.addClass(l);e.addClass(n);e.writeClasses();e.write(">");e.writeEscaped(d);e.write("</div>")}e.write("</div>")}};a._renderValue=function(e,a,t,i){var s;if(a.getNullifyValue()){s="0"}else{s=""}e.write("<div");e.writeAttribute("id",a.getId()+"-value");e.addClass("sapMNCValue");e.addClass(t);e.addClass(a.getValueColor());e.addClass(a.getState());e.writeClasses();e.write(">");var r=a._getMaxDigitsData();e.write("<div");e.writeAttribute("id",a.getId()+"-value-scr");e.addClass("sapMNCValueScr");e.addClass(t);if(r.fontClass){e.addClass(r.fontClass)}e.writeClasses();e.write(">");this._prepareAndRenderIcon(e,a,a._oIcon,r.fontClass);var d=a.getTruncateValueTo()||r.maxLength;e.write('<span id="'+a.getId()+'-value-inner">');if(i.length>=d&&(i[d-1]==="."||i[d-1]===",")){e.writeEscaped(i.substring(0,d-1))}else{e.writeEscaped(i?i.substring(0,d):s)}e.write("</span>");e.write("</div>");e.write("</div>")};return a},true);