/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["../base/Object","./EventBus","sap/base/assert"],function(t,e,i){"use strict";var n="sapUiIntervalTrigger-event";var r=t.extend("sap.ui.core.IntervalTrigger",{constructor:function(i){t.apply(this);this._oEventBus=new e;this._delayedCallId=null;this._trigger=s.bind(this);this._iInterval=0;if(i){this.setInterval(i)}}});var s=function(){clearTimeout(this._delayedCallId);var t=this._oEventBus._defaultChannel.hasListeners(n);if(this._iInterval>0&&t){this._oEventBus.publish(n);this._delayedCallId=setTimeout(this._trigger,this._iInterval)}};r.prototype.destroy=function(){t.prototype.destroy.apply(this,arguments);delete this._trigger;this._oEventBus.destroy();delete this._oEventBus};r.prototype.setInterval=function(t){i(typeof t==="number","Interval must be an integer value");if(this._iInterval!==t){this._iInterval=t;this._trigger()}};r.prototype.addListener=function(t,e){this._oEventBus.subscribe(n,t,e);this._trigger()};r.prototype.removeListener=function(t,e){this._oEventBus.unsubscribe(n,t,e)};r.prototype.getInterface=function(){return this};var o=function(){var t=new r(200);o=function(){return t};return t};r.addListener=function(t,e){o().addListener(t,e)};r.removeListener=function(t,e){o().removeListener(t,e)};return r});