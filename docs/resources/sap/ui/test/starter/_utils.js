/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/merge"],function(e){"use strict";function t(e){var t=document.querySelector("["+e+"]");return t?t.getAttribute(e):null}function n(){return new Promise(function(e){function t(){document.removeEventListener("DOMContentLoaded",t,false);e()}if(document.readyState==="loading"){document.addEventListener("DOMContentLoaded",t,false)}else{e()}})}function r(e){var t=document.createElement("link");t.rel="stylesheet";t.href=sap.ui.require.toUrl(e);document.head.appendChild(t)}function s(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;")}var i={name:null,beforeBootstrap:null,module:"./{name}.qunit",page:"resources/sap/ui/test/starter/Test.qunit.html?testsuite={suite}&test={name}",title:"QUnit tests '{name}' of suite '{suite}'",qunit:{version:"edge"},sinon:{version:"edge",qunitBridge:true,useFakeTimers:false,useFakeServer:false},coverage:{only:null,never:null,branchTracking:false},ui5:{bindingSyntax:"complex",noConflict:true,libs:[],theme:"sap_belize"},bootCore:true,autostart:true};function u(e){if(e&&typeof e==="object"){if(e.qunit===null||e.qunit===false){e.qunit={version:null}}else if(typeof e.qunit==="number"||e.qunit==="edge"){e.qunit={version:e.qunit}}else if(typeof e.qunit!=="object"){e.qunit={}}if(e.sinon===null||e.sinon===false){e.sinon={version:null}}else if(typeof e.sinon==="number"||e.sinon==="edge"){e.sinon={version:e.sinon}}else if(typeof e.sinon!=="object"){e.sinon={}}}else{e=null}return e}function o(t,n){function r(e,t){return e==null?e:e.replace(/\{suite\}/g,n).replace(/\{name\}/g,t)}var s=n.slice(0,n.lastIndexOf("/")+1);function o(e){return e==null?e:e.replace(/^\.\//,s)}var a=e({},i,u(t.defaults));Object.keys(t.tests).forEach(function(n){var s=u(t.tests[n]),i={name:n};s=e({},a,i,s);if(Array.isArray(s.module)){s.module=s.module.map(function(e){return o(r(e,n))})}else{s.module=o(r(s.module,n))}s.beforeBootstrap=o(r(s.beforeBootstrap,n));s.page=r(s.page,n);s.title=r(s.title,n);t.tests[n]=s});t.sortedTests=Object.keys(t.tests).sort(function(e,n){var r=t.tests[e].group||"";var s=t.tests[n].group||"";if(r!==s){return r<s?-1:1}e=e.toUpperCase();n=n.toUpperCase();if(e===n){return 0}return e<n?-1:1}).map(function(e){return t.tests[e]});return t}var a=/^test-resources\/([a-zA-Z_$\-][a-zA-Z_$0-9\-\.]*\/)*testsuite(?:\.[a-z][a-z0-9]*)*\.qunit$/;function l(e){return new Promise(function(t,n){if(!e){throw new TypeError("No test suite specified")}if(!a.test(e)){throw new TypeError("Invalid test suite name")}sap.ui.require([e],function(n){t(o(n,e))},function(e){n(e)})})}sap.ui.loader.config({paths:{"test-resources":sap.ui.require.toUrl("")+"/../test-resources/"}});return{defaultConfig:i,addStylesheet:r,encode:s,getAttribute:t,getSuiteConfig:l,whenDOMReady:n}});