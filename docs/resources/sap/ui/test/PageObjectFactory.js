/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery","sap/ui/test/Opa","sap/ui/base/Object","sap/base/Log"],function(e,a,t,i){"use strict";var n=t.extend("sap.ui.test.PageObjectFactory");n.create=function(a,t){var i={};for(var r in a){if(a.hasOwnProperty(r)&&e.isEmptyObject(i[r])){i[r]=n._createPageObject({name:r,baseClass:a[r].baseClass||t,namespace:a[r].namespace||"sap.ui.test.opa.pageObject",view:p(a[r]),actions:a[r].actions,assertions:a[r].assertions})}}return i};n._createPageObject=function(e){var a={};["actions","assertions"].forEach(function(t){var i=r(t,e);var n=new i;o(n,e.view);f(n,t);c(n,t,e.name);a[t]=n});return a};function r(e,a){var t=s(a.namespace,a.name,e);var i=a.baseClass.extend(t);for(var n in a[e]){if(a[e].hasOwnProperty(n)){i.prototype[n]=a[e][n]}}return i}function s(a,t,n){var r=a+"."+t+"."+n;var s=e.sap.getObject(r,NaN);if(s){i.error("Opa5 Page Object namespace clash: You have loaded multiple page objects with the same name '"+r+"'. "+"To prevent override, specify the namespace parameter.")}return r}function o(a,t){if(!e.isEmptyObject(t)&&a.waitFor){var i=a.waitFor;a.waitFor=function(a){return i.call(this,e.extend(true,{},t,a))}}}function c(e,t,i){if(t==="actions"){a.config.arrangements[i]=e;a.config.actions[i]=e}else if(t==="assertions"){a.config.assertions[i]=e}}function f(t,i){if(a.config.testLibs){for(var n in a.config.testLibs){if(a.config.testLibBase&&!e.isEmptyObject(a.config.testLibBase[n])){var r=Object.getPrototypeOf(t);r[n]={};var s=a.config.testLibBase[n][i];if(s){for(var o in s){if(s.hasOwnProperty(o)){r[n][o]=s[o].bind(t)}}}}}}}function p(e){var a={};["viewName","viewId"].forEach(function(t){if(e[t]){a[t]=e[t]}});return a}return n});