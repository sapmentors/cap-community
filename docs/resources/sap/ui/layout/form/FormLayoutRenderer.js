/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/library","sap/ui/core/theming/Parameters","sap/ui/layout/library","sap/ui/layout/form/Form"],function(e,t,r,i){"use strict";var a=e.TitleLevel;var n=r.BackgroundDesign;var s={};s.render=function(e,t){var r=e;var a=t.getParent();if(a&&a instanceof i){this.renderForm(r,t,a)}};s.renderForm=function(e,r,i){var a=i.getToolbar();e.write("<div");e.writeControlData(r);e.addClass(this.getMainClass());if(a){e.addClass("sapUiFormToolbar")}this.addBackgroundClass(e,r);e.writeClasses();e.write(">");var n;if(!a){n=t.get("sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormTitleSize")}this.renderHeader(e,a,i.getTitle(),undefined,false,n,i.getId());this.renderContainers(e,r,i);e.write("</div>")};s.getMainClass=function(){return"sapUiFormLayout"};s.addBackgroundClass=function(e,t){var r=t.getBackgroundDesign();if(r!=n.Transparent){e.addClass("sapUiFormBackgr"+r)}};s.renderContainers=function(e,t,r){var i=r.getVisibleFormContainers();for(var a=0,n=i.length;a<n;a++){var s=i[a];this.renderContainer(e,t,s)}};s.renderContainer=function(e,t,r){var i=r.getExpandable();var n=r.getToolbar();var s=r.getTitle();e.write("<section");e.writeElementData(r);e.addClass("sapUiFormContainer");if(n){e.addClass("sapUiFormContainerToolbar")}else if(s){e.addClass("sapUiFormContainerTitle")}if(r.getTooltip_AsString()){e.writeAttributeEscaped("title",r.getTooltip_AsString())}e.writeClasses();this.writeAccessibilityStateContainer(e,r);e.write(">");this.renderHeader(e,n,s,r._oExpandButton,i,a.H4,r.getId());if(i){e.write("<div id='"+r.getId()+"-content'");if(!r.getExpanded()){e.addStyle("display","none");e.writeStyles()}e.write(">")}var l=r.getVisibleFormElements();for(var o=0,d=l.length;o<d;o++){var g=l[o];this.renderElement(e,t,g)}if(i){e.write("</div>")}e.write("</section>")};s.renderElement=function(e,t,r){var i=r.getLabelControl();e.write("<div");e.writeElementData(r);e.addClass("sapUiFormElement");if(i){e.addClass("sapUiFormElementLbl")}e.writeClasses();e.write(">");if(i){e.renderControl(i)}var a=r.getFields();if(a&&a.length>0){for(var n=0,s=a.length;n<s;n++){var l=a[n];e.renderControl(l)}}e.write("</div>")};s.renderTitle=function(e,r,i,n,s,l){if(r){var o=t.get("sap.ui.layout.FormLayout:_sap_ui_layout_FormLayout_FormSubTitleSize");if(s){o=s}if(typeof r!=="string"&&r.getLevel()!=a.Auto){o=r.getLevel()}e.write("<"+o+" ");e.addClass("sapUiFormTitle");e.addClass("sapUiFormTitle"+o);if(typeof r!=="string"){e.writeElementData(r);if(r.getTooltip_AsString()){e.writeAttributeEscaped("title",r.getTooltip_AsString())}if(r.getEmphasized()){e.addClass("sapUiFormTitleEmph")}}else{e.writeAttribute("id",l+"--title")}e.writeClasses();e.write(">");if(n&&i){e.renderControl(i)}if(typeof r==="string"){e.writeEscaped(r,true)}else{var d=r.getIcon();if(d){var g=[];var u={title:null};u["id"]=r.getId()+"-ico";e.writeIcon(d,g,u)}e.writeEscaped(r.getText(),true)}e.write("</"+o+">")}};s.renderHeader=function(e,t,r,i,a,n,s){if(t){e.renderControl(t)}else{this.renderTitle(e,r,i,a,n,s)}};s.writeAccessibilityStateContainer=function(e,t){var r={};var i=t.getTitle();var a=t.getToolbar();if(a){if(!t.getAriaLabelledBy()||t.getAriaLabelledBy().length==0){r["labelledby"]={value:a.getId(),append:true}}}else if(i){var n="";if(typeof i=="string"){n=t.getId()+"--title"}else{n=i.getId()}r["labelledby"]={value:n,append:true}}if(r["labelledby"]||t.getAriaLabelledBy().length>0){r["role"]="form"}e.writeAccessibilityState(t,r)};return s},true);