/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/layout/library","./FormLayout","./GridLayoutRenderer"],function(e,t,n){"use strict";var r=t.extend("sap.ui.layout.form.GridLayout",{metadata:{library:"sap.ui.layout",properties:{singleColumn:{type:"boolean",group:"Misc",defaultValue:false}}}});r.prototype.toggleContainerExpanded=function(e){this.invalidate()};r.prototype.onAfterRendering=function(){var e=this.getParent();if(e){var t=e.getVisibleFormContainers();for(var n=0;n<t.length;n++){var r=t[n];if(r.getExpandable()&&r._oExpandButton){r._oExpandButton.$().attr("tabindex","-1")}}}};r.prototype.onLayoutDataChange=function(e){if(this.getDomRef()){this.invalidate()}};r.prototype.onsaptabnext=function(e){this.tabForward(e)};r.prototype.onsaptabprevious=function(e){this.tabBack(e)};r.prototype.findFieldOfElement=function(e,n,r){if(!r){return t.prototype.findPrevFieldOfElement.apply(this,arguments)}if(!e.isVisible()){return null}var i=e.getFields();var a;var o=i.length;n=o-1;for(var l=n;l>=0;l--){var f=i[l];var d=f.$().offset().left;if(r<d&&l!=0){continue}var u=this._getDomRef(f);if((!f.getEnabled||f.getEnabled())&&u){a=u;break}}return a};r.prototype.findFieldBelow=function(e,t){var n=t.getParent();var r=n.indexOfFormElement(t);var i;if(n.isVisible()){var a=n.getFormElements();var o=a.length;var l=r+1;var f=e.$().offset().left;while(!i&&l<o){var d=a[l];i=this.findFieldOfElement(d,0,f);l++}}if(!i){var u=n.getParent();r=u.indexOfFormContainer(n);i=this.findFirstFieldOfFirstElementInNextContainer(u,r+1)}return i};r.prototype.findFieldAbove=function(e,t){var n=t.getParent();var r=n.indexOfFormElement(t);var i;if(n.isVisible()){var a=n.getFormElements();var o=r-1;var l=e.$().offset().left;while(!i&&o>=0){var f=a[o];i=this.findFieldOfElement(f,0,l);o--}}if(!i){var d=n.getParent();r=d.indexOfFormContainer(n);i=this.findLastFieldOfLastElementInPrevContainer(d,r-1)}return i};r.prototype.getContainerRenderedDomRef=function(e){return null};r.prototype.getElementRenderedDomRef=function(e){if(this.getDomRef()){var t=this.getSingleColumn();var n=e.getParent();var r=this.getLayoutDataForElement(n,"sap.ui.layout.form.GridContainerData");if((t||!r||!r.getHalfGrid())&&!this.getRenderer().checkFullSizeElement(this,e)){return e.getId()?window.document.getElementById(e.getId()):null}}return null};return r});