/*!
 * OpenUI5
 * (c) Copyright 2009-2019 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Element","sap/m/ListItemBase","./library","sap/m/Button","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/ui/base/Interface"],function(t,e,o,a,i,s,n){"use strict";var r=e.extend("sap.m.SelectionDetailsListItem");r.prototype.onBeforeRendering=function(){var t;if(this._getParentElement().getEnableNav()){t=o.ListType.Navigation}else{t=o.ListType.Inactive}this.setProperty("type",t,true)};var l=t.extend("sap.m.SelectionDetailsItem",{metadata:{library:"sap.m",properties:{enableNav:{type:"boolean",defaultValue:false,group:"Behavior"}},aggregations:{lines:{type:"sap.m.SelectionDetailsItemLine",multiple:true,bindable:"bindable"},actions:{type:"sap.ui.core.Item",multiple:true},_overflowToolbar:{type:"sap.m.OverflowToolbar",multiple:false,visibility:"hidden"}}}});l.prototype.exit=function(){if(this._oListItem){this._oListItem.destroy();this._oListItem=null}};l.prototype._aFacadeMethods=["addCustomData","getCustomData","indexOfCustomData","insertCustomData","removeCustomData","removeAllCustomData","destroyCustomData","data","addEventDelegate","removeEventDelegate","setEnableNav","getEnableNav","addAction","removeAction"];l.prototype.getFacade=function(){var t=new n(this,l.prototype._aFacadeMethods);this.getFacade=function(){return t};return t};l.prototype._getListItem=function(){if(!this._oListItem){this._oListItem=new r({press:[this._onSelectionDetailsListItemPress,this]});this._oListItem._getParentElement=function(){return this}.bind(this);this._addOverflowToolbar()}return this._oListItem};l.prototype._onSelectionDetailsListItemPress=function(){this.fireEvent("_navigate")};l.prototype._addOverflowToolbar=function(){var t=this.getActions(),e,n;this.destroyAggregation("_overflowToolbar");if(t.length===0){return}var r=new i(this.getId()+"-action-toolbar");this.setAggregation("_overflowToolbar",r,true);r.addAggregation("content",new s,true);for(e=0;e<t.length;e++){n=new a(this.getId()+"-action-"+e,{text:t[e].getText(),type:o.ButtonType.Transparent,enabled:t[e].getEnabled(),press:[t[e],this._onActionPress,this]});r.addAggregation("content",n,true)}};l.prototype._onActionPress=function(t,e){this.fireEvent("_actionPress",{action:e,items:[this],level:o.SelectionDetailsActionLevel.Item})};return l});